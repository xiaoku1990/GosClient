{"version":3,"sources":["webpack:///src/view/home/faultLog.vue","webpack:///./src/view/home/faultLog.vue?d9a7","webpack:///./src/view/home/faultLog.vue"],"names":["faultLog","name","data","_this","this","tableData","tableDataTest","device_type","floor_id","floor_name","area_id","area_name","device_id","error_code","start_time","end_time","error_time","error_state","dataTimePickerOptions1","disabledDate","time","timeInvalid","userQuery","getTime","Date","dataTimePickerOptions2","build_id","$BuildId","user_id","dev_type","page","floorAreasQuery","startTime","endTime","endTimeDisable","floorSelectedIndex","areaSelectedIndex","tablePageTotal","tablePageSize","Object","common","config","pageItemSize","tableExportName","tableDateFormat","tableExportDateFormat","tableDisplayDateFormat","htmlDateFormat","tableFieldList","deviceTypes","list","floorAreas","area_list","tableFiledArray","sheetHeaderTitles","sheetHeaderFields","requestUrl","tableDataUrl","url","stopDailyLog","floorAreaListUrl","floorAreaList","getErrorLog","created","today","now","setMilliseconds","setSeconds","setMinutes","setHours","date","getFloorAreaList","mounted","watch","val","computed","floorSelect","get","set","areaSelect","methods","search","formName","_this2","$refs","validate","valid","queryData","exports","_this3","formData","FormData","i","append","$http","post","$Api","dataType","then","status","jsonData","result","jsonResult","record_list","dataExport","xlsxName","_i","car_type","carTypes","car_type_name","in_time","out_time","stop_time","secondTimeConvert","carpos_name","car_number","json2Xlsx","$message","message","duration","type","catch","error","$notify","title","handleCurrentChange","secondInput","hour","Math","floor","min","sec","formatTime","index","split","formatMinute","row","column","cellValue","_this4","util","floorAreaListAppendNull","floor_list","_this5","console","log","stringify_default","log_list","total_page","home_faultLog","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","display","ref","attrs","model","label-width","width","float","label","span","size","value","callback","$$v","$set","expression","_l","itme","dev_type_name","dev_type_id","_v","editable","placeholder","format","value-format","picker-options","prefix-icon","clearable","text-align","disabled","border-radius","icon","round","on","click","$event","height","align","scopedSlots","_u","key","fn","scope","color","_e","_s","substr","formatter","prop","current-page","page-size","page-count","layout","current-change","update:currentPage","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.b288b572c04cfb5d5553.js","sourcesContent":["<template>\n  <div>\n    <!--<p class=\"back-nav\">-->\n    <div class=\"the-car-query\">\n      <div class=\"state-from\" style=\"display: flex\">\n        <el-form ref=\"userQuery\" :model=\"userQuery\" label-width=\"80px\">\n\n          <el-form-item label=\"设备类型\" style=\"width:200px;float:left\">\n            <el-col :span=\"20\">\n              <el-select size=\"small\" v-model=\"userQuery.dev_type\" class=\"input-round\">\n                <el-option v-for=\"itme in tableFieldList.deviceTypes\" :label=\"itme.dev_type_name\"\n                           :value=\"itme.dev_type_id\"></el-option>\n              </el-select>\n            </el-col>\n          </el-form-item>\n\n          <el-form-item label=\"故障时间\" class=\"data-item\" style=\"width:450px;float:left\">\n            <el-col :span=\"11\">\n              <el-date-picker :editable=\"false\" size=\"small\" class=\"input-round\" type=\"datetime\" placeholder=\"开始时间\"\n                              :format=\"tableDisplayDateFormat\" :value-format=\"htmlDateFormat\"\n                              :picker-options=\"dataTimePickerOptions1\"\n                              v-model=\"startTime\" prefix-icon=\"el-icon-date\"\n                              :clearable=\"false\"\n                              style=\"width: 100%;\"></el-date-picker>\n            </el-col>\n            <el-col class=\"line\" :span=\"1\" style=\"text-align: center;\">-</el-col>\n            <el-col :span=\"11\">\n              <el-date-picker :disabled=\"endTimeDisable\" :editable=\"false\" size=\"small\" class=\"input-round\"\n                              type=\"datetime\" placeholder=\"结束时间\"\n                              :format=\"tableDisplayDateFormat\" :value-format=\"htmlDateFormat\"\n                              :picker-options=\"dataTimePickerOptions2\"\n                              v-model=\"endTime\" prefix-icon=\"el-icon-date\"\n                              :clearable=\"false\"\n                              style=\"width: 100%;\"></el-date-picker>\n            </el-col>\n          </el-form-item>\n\n          <el-form-item label=\"车区\" class=\"data-item\" style=\"float:left\">\n            <el-col :span=\"8\">\n              <el-select size=\"small\" v-model=\"floorSelect\" class=\"input-round\" style=\"border-radius:25px\"\n                         placeholder=\"请选择楼层\">\n                <el-option v-for=\"(itme, index) in tableFieldList.floorAreas\" :label=\"itme.floor_name\"\n                           :value=\"index\"></el-option>\n              </el-select>\n            </el-col>\n            <el-col class=\"line\" :span=\"1\" style=\"text-align: center;\">-</el-col>\n            <el-col :span=\"8\">\n              <el-select size=\"small\" v-model=\"areaSelect\" class=\"input-round\" placeholder=\"请选择区域\">\n                <el-option v-for=\"(itme, index) in tableFieldList.floorAreas[floorSelectedIndex].area_list\"\n                           :label=\"itme.area_name\"\n                           :value=\"index\"></el-option>\n              </el-select>\n            </el-col>\n          </el-form-item>\n\n          <el-form-item>\n            <el-button type=\"primary\" size=\"small\" icon=\"el-icon-search\" round\n                       @click=\"search('userQuery')\"></el-button>\n            <el-button type=\"danger\" size=\"small\" round @click=\"exports\">导出</el-button>\n          </el-form-item>\n          <!--<el-form-item >-->\n          <!--<el-button type=\"primary\"  size=\"small\" icon=\"el-icon-search\"  round  @click=\"export()\">导出</el-button>-->\n          <!--</el-form-item>-->\n        </el-form>\n      </div>\n    </div>\n    <div class=\"main-car-padding\">\n      <el-table :data=\"tableData\" height=\"100%\" style=\"width: 100%;\">\n        <el-table-column\n          align=\"center\"\n          label=\"设备类型\"\n          width=\"\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.device_type == 1\" style=\"color: red\">灯</span>\n            <span v-else-if=\"scope.row.device_type == 2\" style=\"color: red\">照片摄像头</span>\n            <span v-else-if=\"scope.row.device_type == 3\" style=\"color: red\">wifi</span>\n            <span v-else-if=\"scope.row.device_type == 4\" style=\"color: red\">蓝牙</span>\n            <span v-else-if=\"scope.row.device_type == 5\" style=\"color: red\">2.4</span>\n            <span v-else-if=\"scope.row.device_type == 6\" style=\"color: red\">红绿灯</span>\n            <span v-else-if=\"scope.row.device_type == 7\" style=\"color: red\">视频摄像头</span>\n            <span v-else-if=\"scope.row.device_type == 8\" style=\"color: red\">引导屏</span>\n            <span v-else-if=\"scope.row.device_type == 8\" style=\"color: red\">引导屏</span>\n            <span v-else-if=\"scope.row.device_type == 9\" style=\"color: red\">扩展坞</span>\n            <span v-else-if=\"scope.row.device_type == 10\" style=\"color: red\">一氧化碳传感器</span>\n            <span v-else-if=\"scope.row.device_type == 11\" style=\"color: red\">音响</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"故障开始时间\"\n          align=\"center\"\n          width=\"\">\n          <template slot-scope=\"scope\">\n            <span class=\"time-cell-span\">{{ scope.row.start_time.substr(0,19) }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"故障结束时间\"\n          align=\"center\"\n          width=\"\">\n          <template slot-scope=\"scope\">\n            <span class=\"time-cell-span\">{{ scope.row.end_time.substr(0,19) }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          :formatter=\"formatMinute\"\n          prop=\"error_time\"\n          label=\"故障时长\"\n          align=\"center\"\n          width=\"\">\n        </el-table-column>\n        <el-table-column\n          prop=\"floor_name\"\n          label=\"楼层\"\n          align=\"center\"\n          width=\"\">\n        </el-table-column>\n        <el-table-column\n          prop=\"area_name\"\n          label=\"车区\"\n          align=\"center\"\n          width=\"\">\n        </el-table-column>\n        <el-table-column\n          prop=\"device_id\"\n          label=\"设备编号\"\n          align=\"center\"\n          width=\"\">\n        </el-table-column>\n        <el-table-column\n          prop=\"error_code\"\n          label=\"故障代码\"\n          align=\"center\"\n          width=\"\">\n        </el-table-column>\n      </el-table>\n      <div class=\"block\">\n        <el-pagination\n          @current-change=\"handleCurrentChange\"\n          :current-page.sync=\"userQuery.page\"\n          :page-size=\"tablePageSize\"\n          :page-count=\"tablePageTotal\"\n          layout=\"prev, pager, next, slot, jumper\">\n          <span class=\"el-pagination__total page-count-padding\">共{{tablePageTotal}}页</span>\n        </el-pagination>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import {formatDate} from '../../common/js/date.js'\n  import {json2Xlsx} from '../../common/js/json2Xlsx.js'\n  import {common} from '../../common/js/common.js'\n\n  export default {\n    name: \"fault-log\",\n    data() {\n      return {\n        tableData: [],  //待加载\n        tableDataTest: [\n          {\n            \"device_type\" : \"5\",\n            \"floor_id\" : \"LX02\",\n            \"floor_name\" : \"B2\",\n            \"area_id\" : \"1\",\n            \"area_name\" : \"A区\",\n            \"device_id\" : \"11\",\n            \"error_code\" : \"2\",\n            \"start_time\" : 1522737769,\n            \"end_time\" : 1522757769,\n            \"error_time\" : 60,\n            \"error_state\" : 2\n          },\n          {\n            \"device_type\" : \"4\",\n            \"floor_id\" : \"LX02\",\n            \"floor_name\" : \"B2\",\n            \"area_id\" : \"1\",\n            \"area_name\" : \"A区\",\n            \"device_id\" : \"14\",\n            \"error_code\" : \"2\",\n            \"start_time\" : 1522737769,\n            \"end_time\" : 0,\n            \"error_time\" : 80,\n            \"error_state\" : 1\n          },\n          {\n            \"device_type\" : \"3\",\n            \"floor_id\" : \"LX02\",\n            \"floor_name\" : \"B2\",\n            \"area_id\" : \"1\",\n            \"area_name\" : \"A区\",\n            \"device_id\" : \"14\",\n            \"error_code\" : \"2\",\n            \"start_time\" : 1522737769,\n            \"end_time\" : 0,\n            \"error_time\" : 80,\n            \"error_state\" : 1\n          },\n          {\n            \"device_type\" : \"2\",\n            \"floor_id\" : \"LX02\",\n            \"floor_name\" : \"B2\",\n            \"area_id\" : \"1\",\n            \"area_name\" : \"A区\",\n            \"device_id\" : \"14\",\n            \"error_code\" : \"2\",\n            \"start_time\" : 1522737769,\n            \"end_time\" : 0,\n            \"error_time\" : 80,\n            \"error_state\" : 1\n          },\n          {\n            \"device_type\" : \"1\",\n            \"floor_id\" : \"LX02\",\n            \"floor_name\" : \"B2\",\n            \"area_id\" : \"1\",\n            \"area_name\" : \"A区\",\n            \"device_id\" : \"14\",\n            \"error_code\" : \"2\",\n            \"start_time\" : 1522737769,\n            \"end_time\" : 0,\n            \"error_time\" : 80,\n            \"error_state\" : 1\n          },\n          {\n            \"device_type\" : \"6\",\n            \"floor_id\" : \"LX02\",\n            \"floor_name\" : \"B2\",\n            \"area_id\" : \"1\",\n            \"area_name\" : \"A区\",\n            \"device_id\" : \"14\",\n            \"error_code\" : \"2\",\n            \"start_time\" : 1522737769,\n            \"end_time\" : 0,\n            \"error_time\" : 80,\n            \"error_state\" : 1\n          },\n          {\n            \"device_type\" : \"7\",\n            \"floor_id\" : \"LX02\",\n            \"floor_name\" : \"B2\",\n            \"area_id\" : \"1\",\n            \"area_name\" : \"A区\",\n            \"device_id\" : \"14\",\n            \"error_code\" : \"2\",\n            \"start_time\" : 1522737769,\n            \"end_time\" : 0,\n            \"error_time\" : 80,\n            \"error_state\" : 1\n          },\n          {\n            \"device_type\" : \"8\",\n            \"floor_id\" : \"LX02\",\n            \"floor_name\" : \"B2\",\n            \"area_id\" : \"1\",\n            \"area_name\" : \"A区\",\n            \"device_id\" : \"14\",\n            \"error_code\" : \"2\",\n            \"start_time\" : 1522737769,\n            \"end_time\" : 0,\n            \"error_time\" : 80,\n            \"error_state\" : 1\n          },\n          {\n            \"device_type\" : \"9\",\n            \"floor_id\" : \"LX02\",\n            \"floor_name\" : \"B2\",\n            \"area_id\" : \"1\",\n            \"area_name\" : \"A区\",\n            \"device_id\" : \"14\",\n            \"error_code\" : \"2\",\n            \"start_time\" : 1522737769,\n            \"end_time\" : 0,\n            \"error_time\" : 80,\n            \"error_state\" : 1\n          },\n          {\n            \"device_type\" : \"10\",\n            \"floor_id\" : \"LX02\",\n            \"floor_name\" : \"B2\",\n            \"area_id\" : \"1\",\n            \"area_name\" : \"A区\",\n            \"device_id\" : \"14\",\n            \"error_code\" : \"2\",\n            \"start_time\" : 1522737769,\n            \"end_time\" : 0,\n            \"error_time\" : 80,\n            \"error_state\" : 1\n          },\n          {\n            \"device_type\": \"11\",\n            \"floor_id\": \"LX02\",\n            \"floor_name\": \"B2\",\n            \"area_id\": \"1\",\n            \"area_name\": \"A区\",\n            \"device_id\": \"14\",\n            \"error_code\": \"2\",\n            \"start_time\": 1522737769,\n            \"end_time\": 0,\n            \"error_time\": 80,\n            \"error_state\": 1\n          }\n        ], // 模拟数据\n        dataTimePickerOptions1: {\n          disabledDate: (time) => {\n            let timeInvalid = false;\n            if (this.userQuery.end_time) {\n              timeInvalid = time.getTime() > new Date(this.userQuery.end_time);\n            }\n            return (timeInvalid || (time.getTime() > new Date));\n          },\n          // shortcuts: common().list.dates\n        },\n        dataTimePickerOptions2: {\n          disabledDate: (time) => {\n            let timeInvalid = false;\n            if (this.userQuery.start_time) {\n              timeInvalid = time.getTime() < new Date(this.userQuery.start_time);\n            }\n            return (timeInvalid || (time.getTime() > new Date));\n          },\n          // shortcuts: common().list.dates\n        },\n        userQuery: {\n          build_id: this.$BuildId,\n          user_id: 'beefind',\n          dev_type: 0,\n          floor_id: 0,\n          area_id: 0,\n          start_time: 0,\n          end_time: 0,\n          error_time: 0,\n          page: 1\n        },\n        floorAreasQuery: {\n          build_id: this.$BuildId,\n        },\n        startTime: null,\n        endTime: null,\n        endTimeDisable: false,\n        floorSelectedIndex: 0,\n        areaSelectedIndex: 0,\n        tablePageTotal: 0,\n        tablePageSize: common().config.pageItemSize,\n        tableExportName: common().config.tableExportName,\n        tableDateFormat: common().config.tableDateFormat,\n        tableExportDateFormat: common().config.tableExportDateFormat,\n        tableDisplayDateFormat: common().config.tableDisplayDateFormat,\n        htmlDateFormat: common().config.htmlDateFormat,\n        tableFieldList: {\n          deviceTypes: common().list.deviceTypes,\n          floorAreas: [{floor_name: '不限', area_list: [{area_name: '不限'}]}]  //先初始化一个默认值，再加载数据覆盖\n        },\n        tableFiledArray: {\n          sheetHeaderTitles: common().list.sheetHeaderTitles,\n          sheetHeaderFields: common().list.sheetHeaderFields\n        },\n        requestUrl: {\n          tableDataUrl: common().url.stopDailyLog,\n          floorAreaListUrl: common().url.floorAreaList,\n          getErrorLog: common().url.getErrorLog\n        }\n      };\n    },\n    created() {\n      let today = new Date;\n      let now = new Date;\n      today.setMilliseconds(0);\n      today.setSeconds(0);\n      today.setMinutes(0);\n      today.setHours(0);\n      this.startTime = formatDate(today, this.tableDateFormat);\n      this.endTime = formatDate(now, this.tableDateFormat);\n      this.getFloorAreaList();\n    },\n    mounted() {\n      // this.queryData();  //不能在这里调用，一定要等获取到floorAreaList\n    },\n    watch: {\n      startTime(val) {\n        // this.userQuery.start_time = (val ? val : 0);\n        // this.endTimeDisable = !val;\n        // if (!val) {\n        //   this.endTime = null;\n        //   this.userQuery.end_time = 0;\n        // } else {\n        //   this.userQuery.end_time = formatDate(new Date, this.tableDateFormat);\n        // }\n        this.userQuery.start_time = val;\n      },\n      endTime(val) {\n        // this.userQuery.end_time = (val ? val : formatDate(new Date, this.tableDateFormat));\n        this.userQuery.end_time = val;\n      }\n    },\n    computed: {\n      floorSelect: {\n        get() {\n          return this.floorSelectedIndex;\n        },\n        set(val) {\n          if (val != this.floorSelectedIndex) {\n            this.userQuery.floor_id = this.tableFieldList.floorAreas[val].floor_id;\n            this.floorSelectedIndex = val;\n\n            //联动刷新\n            this.areaSelectedIndex = 0;\n            this.userQuery.area_id = this.tableFieldList.floorAreas[val].area_list[0].area_id;\n          }\n        }\n      },\n      areaSelect: {\n        get() {\n          return this.areaSelectedIndex;\n        },\n        set(val) {\n          if (val != this.areaSelectedIndex) {\n            this.userQuery.area_id = this.tableFieldList.floorAreas[this.floorSelectedIndex].area_list[val].area_id;\n            this.areaSelectedIndex = val;\n          }\n        }\n      }\n    },\n    methods: {\n      search(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.queryData();\n          } else {\n            return false;\n          }\n        });\n      },\n      exports() {\n        let formData = new FormData();\n        this.userQuery.page = 0;\n        for (let i in this.userQuery) {\n          formData.append(i, this.userQuery[i]);\n        }\n        // console.log(`导出，查询字段: ${ JSON.stringify(this.userQuery) }`);\n        this.$http.post(this.$Api + this.requestUrl.tableDataUrl, formData, {dataType: 'json'})\n          .then(data => {\n            if (data.status == 200) {\n              let jsonData = data.data;\n              if ((typeof(jsonData.result) !== 'undefined') && (jsonData.result == 1)) {\n                let jsonResult = jsonData.record_list;\n                let dataExport = [];\n                const xlsxName = this.tableExportName + formatDate(new Date, this.tableExportDateFormat);\n                // console.log(`结果返回: ${ JSON.stringify(jsonData) }`);\n                for (let i in jsonResult) {\n                  dataExport[i] = {\n                    car_type: this.tableFieldList.carTypes[jsonResult[i].car_type].car_type_name,\n                    in_time: formatDate(jsonResult[i].in_time, this.tableDateFormat),\n                    out_time: formatDate(jsonResult[i].out_time, this.tableDateFormat),\n                    stop_time: this.secondTimeConvert(jsonResult[i].stop_time),\n                    floor_name: jsonResult[i].floor_name,\n                    area_name: jsonResult[i].area_name,\n                    carpos_name: jsonResult[i].carpos_name,\n                    car_number: jsonResult[i].car_number\n                  };\n                }\n                json2Xlsx(this, this.tableFiledArray.sheetHeaderTitles, this.tableFiledArray.sheetHeaderFields, dataExport, xlsxName);\n              } else {\n                // console.log('导出getStopDailyLog失败：');\n                // console.log(data.data);\n              }\n            }\n            else {\n              this.$message({\n                message: `导出getStopDailyLog失败：${data.status}`,\n                duration: 2000,\n                type: 'error'\n              });\n            }\n          })\n          .catch((error) => {\n            this.$notify({\n              title: 'ERROR',\n              message: `${error}`,\n              duration: 2000,\n              type: 'error'\n            });\n          });\n      },\n      handleCurrentChange(val) {\n        // console.log(`当前页: ${val}`);\n        this.queryData();\n      },\n      secondTimeConvert(secondInput) {\n        let hour = Math.floor(secondInput / 3600);\n        let min = Math.floor(secondInput % 3600 / 60);\n        let sec = secondInput % 3600 % 60;\n        hour = ((hour < 10) ? '0' + hour : hour);\n        min = ((min < 10) ? '0' + min : min);\n        sec = ((sec < 10) ? '0' + sec : sec);\n        return `${hour}:${min}:${sec}`;\n      },\n      formatTime(val, index) {\n        let valueArray = formatDate(val, this.tableDateFormat).split(' ');\n        return valueArray[index];\n      },\n      formatMinute(row, column, cellValue) {\n        return this.secondTimeConvert(cellValue);\n      },\n      getFloorAreaList() {\n        let formData = new FormData();\n        for (let i in this.floorAreasQuery) {\n          formData.append(i, this.floorAreasQuery[i]);\n        }\n        this.$http.post(this.$Api + this.requestUrl.floorAreaListUrl, formData, {dataType: 'json'})\n          .then(data => {\n            if (data.status == 200) {\n              let jsonData = data.data;\n              if ((typeof(jsonData.result) !== 'undefined') && (jsonData.result == 1)) {\n                let floorAreaList = common().util.floorAreaListAppendNull(jsonData.floor_list);\n                this.tableFieldList.floorAreas = floorAreaList;\n                this.userQuery.floor_id = floorAreaList[0].floor_id;\n                this.userQuery.area_id = floorAreaList[0].area_list[0].area_id;\n                //获取故障日志数据\n                this.queryData();\n              } else {\n                // console.log('获取floorAreaList失败：');\n                // console.log(data.data);\n              }\n            }\n            else {\n              this.$message({\n                message: `获取floorAreaList失败：${data.status}`,\n                duration: 2000,\n                type: 'error'\n              });\n            }\n          })\n          .catch((error) => {\n            this.$notify({\n              title: 'ERROR',\n              message: `${error}`,\n              duration: 2000,\n              type: 'error'\n            });\n          });\n      },\n      queryData() {\n        let formData = new FormData();\n        console.log(this.userQuery);\n        for (let i in this.userQuery) {\n          formData.append(i, this.userQuery[i]);\n        }\n        console.log(formData);\n        this.tableData = [];\n        // console.log(`查询字段: ${ JSON.stringify(this.userQuery) }`);\n        this.$http.post(this.$Api + this.requestUrl.getErrorLog, formData, {dataType: 'json'})\n          .then(data => {\n            if (data.status == 200) {\n              let jsonData = data.data;\n              if ((typeof(jsonData.result) !== 'undefined') && (jsonData.result == 1)) {\n                console.log(`结果返回: ${ JSON.stringify(jsonData) }`);\n                this.tableData = jsonData.log_list;\n                this.tablePageTotal = jsonData.total_page;\n              } else {\n                // console.log('获取getStopDailyLog失败：');\n                // console.log(data.data);\n              }\n            }\n            else {\n              this.$message({\n                message: `获取getStopDailyLog失败：${data.status}`,\n                duration: 2000,\n                type: 'error'\n              });\n            }\n          })\n          .catch((error) => {\n            this.$notify({\n              title: 'ERROR',\n              message: `${error}`,\n              duration: 2000,\n              type: 'error'\n            });\n          });\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  @import \"../../style/variables.scss\";\n\n  .back-nav {\n    background: #fff;\n    padding: 12px 20px;\n    margin: 0px;\n    margin-bottom: 20px;\n  }\n\n  .back-title {\n    float: left;\n    text-align: right;\n    line-height: 30px;\n    width: 100%;\n    span {\n      float: left;\n      i {\n        display: inline-block;\n        height: 18px;\n        float: left;\n        background: #7362e4;\n        width: 3px;\n        margin-right: 6px;\n        position: relative;\n        top: 6px;\n      }\n    }\n  }\n\n  .block {\n    text-align: center;\n    margin: 20px 0px;\n  }\n\n  .back-i-bulr {\n    display: inline-block;\n    height: 10px;\n    width: 10px;\n    border-radius: 25px;\n    margin-right: 6px;\n    background: $green;\n  }\n\n  .back-i-red {\n    display: inline-block;\n    height: 10px;\n    width: 10px;\n    margin-right: 6px;\n    border-radius: 25px;\n    background: $red;\n  }\n\n  //弹性布局\n  .the-car-query {\n    background: #fff;\n    margin-bottom: 20px;\n    display: flex;\n    min-width: 1200px;\n    .state-from {\n      display: flex;\n      height: 60px;\n      padding: 10px 5px 10px 0px;\n      float: left;\n      background: #fff;\n      width: 100%;\n      border-radius: 3px;\n      .data-item {\n        float: left;\n        width: 33%;\n      }\n    }\n  }\n\n  .page-count-padding {\n    padding-left: 24px;\n  }\n\n  .time-cell-span {\n    display: inline-block;\n    width: 80px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/home/faultLog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"the-car-query\"},[_c('div',{staticClass:\"state-from\",staticStyle:{\"display\":\"flex\"}},[_c('el-form',{ref:\"userQuery\",attrs:{\"model\":_vm.userQuery,\"label-width\":\"80px\"}},[_c('el-form-item',{staticStyle:{\"width\":\"200px\",\"float\":\"left\"},attrs:{\"label\":\"设备类型\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-select',{staticClass:\"input-round\",attrs:{\"size\":\"small\"},model:{value:(_vm.userQuery.dev_type),callback:function ($$v) {_vm.$set(_vm.userQuery, \"dev_type\", $$v)},expression:\"userQuery.dev_type\"}},_vm._l((_vm.tableFieldList.deviceTypes),function(itme){return _c('el-option',{attrs:{\"label\":itme.dev_type_name,\"value\":itme.dev_type_id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"data-item\",staticStyle:{\"width\":\"450px\",\"float\":\"left\"},attrs:{\"label\":\"故障时间\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticClass:\"input-round\",staticStyle:{\"width\":\"100%\"},attrs:{\"editable\":false,\"size\":\"small\",\"type\":\"datetime\",\"placeholder\":\"开始时间\",\"format\":_vm.tableDisplayDateFormat,\"value-format\":_vm.htmlDateFormat,\"picker-options\":_vm.dataTimePickerOptions1,\"prefix-icon\":\"el-icon-date\",\"clearable\":false},model:{value:(_vm.startTime),callback:function ($$v) {_vm.startTime=$$v},expression:\"startTime\"}})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"line\",staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":1}},[_vm._v(\"-\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticClass:\"input-round\",staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":_vm.endTimeDisable,\"editable\":false,\"size\":\"small\",\"type\":\"datetime\",\"placeholder\":\"结束时间\",\"format\":_vm.tableDisplayDateFormat,\"value-format\":_vm.htmlDateFormat,\"picker-options\":_vm.dataTimePickerOptions2,\"prefix-icon\":\"el-icon-date\",\"clearable\":false},model:{value:(_vm.endTime),callback:function ($$v) {_vm.endTime=$$v},expression:\"endTime\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"data-item\",staticStyle:{\"float\":\"left\"},attrs:{\"label\":\"车区\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-select',{staticClass:\"input-round\",staticStyle:{\"border-radius\":\"25px\"},attrs:{\"size\":\"small\",\"placeholder\":\"请选择楼层\"},model:{value:(_vm.floorSelect),callback:function ($$v) {_vm.floorSelect=$$v},expression:\"floorSelect\"}},_vm._l((_vm.tableFieldList.floorAreas),function(itme,index){return _c('el-option',{attrs:{\"label\":itme.floor_name,\"value\":index}})}))],1),_vm._v(\" \"),_c('el-col',{staticClass:\"line\",staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":1}},[_vm._v(\"-\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-select',{staticClass:\"input-round\",attrs:{\"size\":\"small\",\"placeholder\":\"请选择区域\"},model:{value:(_vm.areaSelect),callback:function ($$v) {_vm.areaSelect=$$v},expression:\"areaSelect\"}},_vm._l((_vm.tableFieldList.floorAreas[_vm.floorSelectedIndex].area_list),function(itme,index){return _c('el-option',{attrs:{\"label\":itme.area_name,\"value\":index}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-search\",\"round\":\"\"},on:{\"click\":function($event){_vm.search('userQuery')}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.exports}},[_vm._v(\"导出\")])],1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"main-car-padding\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"height\":\"100%\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"设备类型\",\"width\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.device_type == 1)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"灯\")]):(scope.row.device_type == 2)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"照片摄像头\")]):(scope.row.device_type == 3)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"wifi\")]):(scope.row.device_type == 4)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"蓝牙\")]):(scope.row.device_type == 5)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"2.4\")]):(scope.row.device_type == 6)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"红绿灯\")]):(scope.row.device_type == 7)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"视频摄像头\")]):(scope.row.device_type == 8)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"引导屏\")]):(scope.row.device_type == 8)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"引导屏\")]):(scope.row.device_type == 9)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"扩展坞\")]):(scope.row.device_type == 10)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"一氧化碳传感器\")]):(scope.row.device_type == 11)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"音响\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"故障开始时间\",\"align\":\"center\",\"width\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"time-cell-span\"},[_vm._v(_vm._s(scope.row.start_time.substr(0,19)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"故障结束时间\",\"align\":\"center\",\"width\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"time-cell-span\"},[_vm._v(_vm._s(scope.row.end_time.substr(0,19)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"formatter\":_vm.formatMinute,\"prop\":\"error_time\",\"label\":\"故障时长\",\"align\":\"center\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"floor_name\",\"label\":\"楼层\",\"align\":\"center\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"area_name\",\"label\":\"车区\",\"align\":\"center\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"device_id\",\"label\":\"设备编号\",\"align\":\"center\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"error_code\",\"label\":\"故障代码\",\"align\":\"center\",\"width\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.userQuery.page,\"page-size\":_vm.tablePageSize,\"page-count\":_vm.tablePageTotal,\"layout\":\"prev, pager, next, slot, jumper\"},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.userQuery, \"page\", $event)}}},[_c('span',{staticClass:\"el-pagination__total page-count-padding\"},[_vm._v(\"共\"+_vm._s(_vm.tablePageTotal)+\"页\")])])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6e880c25\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/view/home/faultLog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e880c25\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./faultLog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./faultLog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./faultLog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e880c25\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./faultLog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e880c25\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/home/faultLog.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}